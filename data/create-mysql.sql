CREATE TABLE ANSWERS
(
    ANSWER_ID INT PRIMARY KEY NOT NULL AUTO_INCREMENT,
    INFORMATION VARCHAR(128),
    QUESTION_ID INT NOT NULL,
    USER_ID INT NOT NULL,
    DATE DATE
);
CREATE TABLE CATEGORY
(
    CATEGORY_ID INT PRIMARY KEY NOT NULL AUTO_INCREMENT,
    NAME VARCHAR(45) NOT NULL
);
CREATE TABLE CREDENTIALS
(
    USER_ID INT NOT NULL,
    PASS VARCHAR(2048)
);
CREATE TABLE QUESTIONS
(
    QUESTION_ID INT PRIMARY KEY NOT NULL AUTO_INCREMENT,
    DESCRIPTION VARCHAR(512) NOT NULL,
    CATEGORY_ID INT NOT NULL,
    USER_ID INT NOT NULL,
    DATE DATE
);
CREATE TABLE ROLES
(
    ROLE_ID INT PRIMARY KEY NOT NULL AUTO_INCREMENT,
    ROLE VARCHAR(128) NOT NULL
);
CREATE TABLE USERS
(
    USER_ID INT PRIMARY KEY NOT NULL AUTO_INCREMENT,
    USERNAME VARCHAR(128),
    PIC LONGBLOB,
    EMAIL VARCHAR(128),
    ROLE_ID INT
);
ALTER TABLE ANSWERS ADD FOREIGN KEY (QUESTION_ID) REFERENCES QUESTIONS (QUESTION_ID);
ALTER TABLE ANSWERS ADD FOREIGN KEY (USER_ID) REFERENCES USERS (USER_ID);
CREATE INDEX FK_QUESTION ON ANSWERS (QUESTION_ID);
CREATE INDEX FK_USER_ANS ON ANSWERS (USER_ID);
ALTER TABLE CREDENTIALS ADD FOREIGN KEY (USER_ID) REFERENCES USERS (USER_ID);
CREATE INDEX FK_USER ON CREDENTIALS (USER_ID);
ALTER TABLE QUESTIONS ADD FOREIGN KEY (CATEGORY_ID) REFERENCES CATEGORY (CATEGORY_ID);
ALTER TABLE QUESTIONS ADD FOREIGN KEY (USER_ID) REFERENCES USERS (USER_ID);
CREATE INDEX FK_CATEGORY ON QUESTIONS (CATEGORY_ID);
CREATE INDEX FK_USER_QUEST ON QUESTIONS (USER_ID);
CREATE UNIQUE INDEX UNIQUE_ROLE_ID ON ROLES (ROLE_ID);
ALTER TABLE USERS ADD FOREIGN KEY (ROLE_ID) REFERENCES ROLES (ROLE_ID);
CREATE UNIQUE INDEX UNIQUE_USER_ID ON USERS (USER_ID);
CREATE INDEX FK_ROLE ON USERS (ROLE_ID);
